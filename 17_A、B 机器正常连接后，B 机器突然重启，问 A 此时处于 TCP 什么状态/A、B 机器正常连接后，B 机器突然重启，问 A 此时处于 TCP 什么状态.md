##A、B 机器正常连接后，B 机器突然重启，问 A 此时处于 TCP 什么状态
如果A 与 B 建立了正常连接后，从未相互发过数据，这个时候 B 突然机器重启，问 A 此时处于 TCP 什么状态？如何消除服务器程序中的这个状态？（超纲题，了解即可）

  服务器重启后，客户端处于半打开状态，也就是FIN-WAIT-1状态。客户端觉得连接还是正常的，但是服务端丢失了连接的所有信息。这种情况下，客户端发送请求给服务端，服务端无法处理，就会出现超时。当然，客户端会尝试重新发送，但是重试次数是有限的，重试次数由tcp_orphan_retries参数控制。经过几轮重试后，如果一直没有收到服务端的ACK，就会关闭连接。
  由于FIN-WAIT-1状态是服务端主动断开客户端的连接导致的，此时可以减小重试次数，尽快让客户端请求超时，超时后连接会自动关闭。

看： https://crystalwindz.com/unp_note_1/#%E6%85%A2%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%EF%BC%9A
