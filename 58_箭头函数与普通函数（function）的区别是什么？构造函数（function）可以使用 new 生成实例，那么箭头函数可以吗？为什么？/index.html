<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>箭头函数与普通函数（function）的区别是什么？构造函数（function）可以使用 new 生成实例，那么箭头函数可以吗？为什么？</title>
</head>

<body>
  <script>
    /* 
         箭头函数 是 普通函数的简写
      1. 箭头函数中的this对象 是定义函数时 所处的对象 而不是调用时的对象
      2. 箭头函数中不能使用yield命令
      3. 箭头函数 不能使用 arguments 对象
      4. 箭头函数 不能通过 new  函数调用
        1) 箭头函数没有自己的this 不能调用 call 和 apply
        2) 箭头函数没有 prototype 属性 而在 new 调用函数时 是需要将 实例对象的__proto__属性 指向函数的prototype
     */

    // new 函数实现

    function li_new(func, ...para) {
      let obj = {}
      obj.__proto__ = func.prototype
      let result = func.call(obj, ...para)
      if (result && (typeof result === 'object' || typeof result === 'function')) {
        return result // 返回值
      }
      return obj // 实例对象
    }

    function MyNewTestFunc(name, age) {
      this.name = name 
      this.age = age
    }

    let a = li_new(MyNewTestFunc, 'litokele', 18)
    console.log(a)
  </script>
</body>

</html>