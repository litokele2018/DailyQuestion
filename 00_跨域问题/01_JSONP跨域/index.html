<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JSONP跨域</title>
</head>

<body>
  <h1>jsonp缺点：只能实现get一种请求</h1>
  <button onclick="handlerClick()">点击发送请求</button>
  <script>
    function handlerClick() {
      var script = document.createElement('script');
      script.type = 'text/javascript';

      // 传参一个回调函数名给后端，方便后端返回时执行这个在前端定义的回调函数
      script.src = 'http://localhost:8080/login?user=admin&callback=handleCallback';
      document.head.appendChild(script);
    }

    // 回调执行函数
    function handleCallback(res) {
      console.log(res)
    }
  </script>
</body>

</html>